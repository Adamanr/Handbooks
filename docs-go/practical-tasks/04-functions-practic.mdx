---
sidebar_position: 5
description: "Практика по функциям в Go: объявление, параметры, возвращаемые значения, defer, вариадические функции, замыкания"
---

import { RandomVariantButton, TaskWithVariants, CodeBlockGo } from "../../src/components/practicModules/practic";

# Практика: Функции

<CodeBlockGo />

## Задание 1 — Простые математические утилиты

<TaskWithVariants
  taskId="functions-1-math"
  title="Задание 1: Простые математические функции"
  difficulty={["Лёгкий","Лёгкий","Лёгкий","Лёгкий","Лёгкий","Лёгкий","Лёгкий","Лёгкий","Лёгкий","Лёгкий","Лёгкий","Лёгкий"]}
  estimatedTime="10-15 минут"
  description="Напиши функцию, которая выполняет простое вычисление и возвращает результат."
  variants={[
    "Функция Max(a, b int) int — возвращает большее из двух чисел",
    "Функция Abs(n int) int — абсолютное значение (модуль)",
    "Функция Pow2(n int) int — число в квадрате",
    "Функция IsEven(n int) bool — чётное ли число",
    "Функция Sign(n int) int — 1 если >0, -1 если <0, 0 если 0",
    "Функция Min3(a, b, c int) int — минимальное из трёх",
    "Функция Avg(a, b float64) float64 — среднее арифметическое",
    "Функция Distance(x1, y1, x2, y2 float64) float64 — расстояние между точками",
    "Функция Clamp(v, min, max int) int — ограничить значение диапазоном",
    "Функция Percent(part, total float64) float64 — процент (part/total*100)",
    "Функция NextEven(n int) int — следующее чётное число",
    "Функция DigitCount(n int) int — количество цифр в числе",
  ]}
>
  **Требования:**
  - функция возвращает **одно** значение
  - используй понятное имя и типы
  - протестируй в `main` с разными значениями
  - красиво выводи результат через `fmt.Printf`

  Пример для Max(7, 3): `Максимум из 7 и 3 = 7`
</TaskWithVariants>

## Задание 2 — Функции с несколькими возвращаемыми значениями

<TaskWithVariants
  taskId="functions-2-multi-return"
  title="Задание 2: Несколько возвращаемых значений"
  difficulty={["Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний"]}
  estimatedTime="15-20 минут"
  description="Функция возвращает основной результат + дополнительную информацию."
  variants={[
    "Функция DivMod(a, b int) (int, int) — частное и остаток",
    "Функция MinMax(a, b, c int) (int, int) — минимум и максимум",
    "Функция RectSize(w, h float64) (float64, float64) — площадь и периметр",
    "Функция RangeStats(nums ...int) (int, int, int) — мин, макс, сумма",
    "Функция StrInfo(s string) (int, bool) — длина и пустая ли строка",
    "Функция CoordDiff(x1,y1,x2,y2 float64) (float64, float64) — Δx и Δy (Δx = x2 − x1, Δy = y2 − y1)",
    "Функция TimeParts(sec int) (int, int, int) — часы, минуты, секунды",
    "Функция CircleInfo(r float64) (float64, float64) — площадь и длина окружности",
    "Функция ScoreParts(points int) (int, int) — полные десятки и остаток",
    "Функция RGBToHex(r,g,b int) (string, bool) — hex-цвет и валидность (0-255)",
    "Функция SplitName(full string) (string, string) — имя и фамилия",
    "Функция TempConvert(c float64) (float64, float64) — в Фаренгейт и Кельвин",
  ]}
>
  **Требования:**
  - используй **несколько возвращаемых значений**
  - можно использовать **именованные возвращаемые значения** (named returns)
  - в `main` присваивай и выводи оба/все значения

  Пример для DivMod(17, 5): `17 ÷ 5 = 3 остаток 2`
</TaskWithVariants>

## Задание 3 — Изменение через указатели

<TaskWithVariants
  taskId="functions-3-pointers"
  title="Задание 3: Изменение значений через указатели"
  difficulty={["Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний"]}
  estimatedTime="15-20 минут"
  description="Функция изменяет переданную переменную через указатель."
  variants={[
    "Функция Double(n *int) — удвоить значение",
    "Функция IncrementAge(age *int) — прибавить 1 год",
    "Функция ApplyDiscount(price *float64, percent float64) — уменьшить на %",
    "Функция ResetToZero(v *int) — обнулить",
    "Функция Swap(a, b *int) — поменять местами два числа",
    "Функция AddBonus(balance *float64, amount float64) — добавить бонус",
    "Функция Negate(n *int) — сменить знак",
    "Функция Scale(coord *float64, factor float64) — умножить на коэффициент",
    "Функция IncreaseByPercent(value *float64, p float64) — прибавить %",
    "Функция RoundToNearest10(n *int) — округлить до десятков",
    "Функция FlipBool(b *bool) — инвертировать bool",
    "Функция Accumulate(total *int, delta int) — прибавить дельту",
  ]}
>
  **Требования:**
  - функция принимает **указатель** (`*int`, `*float64`, `*bool`)
  - меняет значение через `*param`
  - в `main` покажи значение **до** и **после** вызова

  Пример:  
  `До: 42`  
  `После Double: 84`
</TaskWithVariants>

## Задание 4 — Вариадические функции

<TaskWithVariants
  taskId="functions-4-variadic"
  title="Задание 4: Функции с переменным числом аргументов"
  difficulty={["Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний"]}
  estimatedTime="15-20 минут"
  description="Напиши функцию, которая принимает любое количество аргументов."
  variants={[
    "Функция Sum(nums ...int) int — сумма всех чисел",
    "Функция Product(nums ...float64) float64 — произведение",
    "Функция Max(nums ...int) int — максимум (0 если пусто)",
    "Функция Concat(parts ...string) string — склеить строки",
    "Функция CountEven(nums ...int) int — количество чётных",
    "Функция Average(nums ...float64) float64 — среднее (0 если пусто)",
    "Функция Min(nums ...int) int — минимум",
    "Функция JoinWith(sep string, items ...string) string — join со разделителем",
    "Функция SumSquares(nums ...int) int — сумма квадратов",
    "Функция CountPositive(nums ...int) int — количество >0",
    "Функция Longest(s ...string) string — самая длинная строка",
    "Функция TotalPrice(items ...float64) float64 — сумма цен",
  ]}
>
  **Требования:**
  - используй `...` (variadic)
  - внутри — цикл `for _, v := range nums`
  - обработай случай пустого вызова (0 или "")

  Пример: `Sum(1,2,3,4) → 10`
</TaskWithVariants>

## Задание 5 — defer в действии

<TaskWithVariants
  taskId="functions-5-defer"
  title="Задание 5: Отложенные действия с defer"
  difficulty={["Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний"]}
  estimatedTime="15-20 минут"
  description="Добавь логирование входа/выхода функции с помощью defer."
  variants={[
    "Функция ProcessOrder(id int) — defer \"Заказ №%d обработан\"",
    "Функция Login(user string) — defer \"Выход пользователя %s\"",
    "Функция CalculateReport() — defer \"Отчёт сформирован\"",
    "Функция SaveFile(name string) — defer \"Файл %s сохранён\"",
    "Функция SendMessage(to string) — defer \"Сообщение отправлено %s\"",
    "Функция UpdateProfile(name string) — defer \"Профиль %s обновлён\"",
    "Функция GenerateKey() — defer \"Ключ сгенерирован\"",
    "Функция BackupData() — defer \"Бэкап завершён\"",
    "Функция RunTask(id int) — defer \"Задача %d завершена\"",
    "Функция Pay(amount float64) — defer \"Платёж на %.2f выполнен\"",
    "Функция Connect(db string) — defer \"Соединение с %s закрыто\"",
    "Функция ExportCSV() — defer \"Экспорт CSV завершён\"",
  ]}
>
  **Требования:**
  - используй `defer fmt.Printf(...)`
  - добавь сообщение в начале функции
  - покажи, что defer срабатывает в конце (даже если return раньше)

  Пример вывода:  
  `Начало обработки заказа 123`  
  `...логика...`  
  `Заказ №123 обработан`
</TaskWithVariants>

## Задание 6 — Простые замыкания-счётчики

<TaskWithVariants
  taskId="functions-6-closure"
  title="Задание 6: Фабрики счётчиков через замыкания"
  difficulty={["Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний"]}
  estimatedTime="20-25 минут"
  description="Создай функцию, которая возвращает другую функцию-счётчик."
  variants={[
    "Счётчик от 1 (MakeID()) → 1,2,3...",
    "Счётчик от 1000 (MakeOrderID()) → 1000,1001,...",
    "Счётчик с шагом 5 (MakeStepCounter(0,5)) → 0,5,10...",
    "Обратный счётчик от 10 (MakeCountdown(10)) → 10,9,8...",
    "Счётчик баллов (MakeScore(0)) → добавляет очки",
    "Счётчик попыток (MakeAttempts()) → 1 попытка, 2 попытка...",
    "Счётчик версий (MakeVersion(1,0)) → 1.0, 1.1, 1.2...",
    "Счётчик транзакций (MakeTxID()) → TX-0001, TX-0002...",
    "Счётчик сообщений (MakeMsgID()) → MSG#1, MSG#2...",
    "Счётчик уровня (MakeLevel(1)) → Level 1 → Level 2...",
    "Счётчик страниц (MakePage(1)) → Page 1, Page 2...",
    "Счётчик гостей (MakeGuestCounter()) → Гость #1, Гость #2...",
  ]}
>
  **Требования:**
  - внешняя функция возвращает `func() int` или `func() string`
  - используй замыкание — переменная внутри внешней функции
  - создай 2–3 независимых счётчика и покажи, что они не влияют друг на друга

  Пример:  
  `id1() → 1`  
  `id1() → 2`  
  `id2() → 1000` (независимый)
</TaskWithVariants>

## Задание 7 — Анонимные функции в деле

<TaskWithVariants
  taskId="functions-7-anon"
  title="Задание 7: Анонимные функции и немедленный вызов"
  difficulty={["Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний","Средний"]}
  estimatedTime="15-20 минут"
  description="Используй анонимную функцию прямо в месте вызова."
  variants={[
    "Вычислить квадрат числа 7 сразу",
    "Приветствие пользователя с текущим именем",
    "Простой калькулятор двух чисел (+)",
    "Вычислить длину строки без переменной",
    "Сгенерировать приветствие с эмодзи",
    "Проверить чётность числа 42",
    "Склеить две строки без функции",
    "Вывести текущую дату (time.Now().String())",
    "Посчитать сумму трёх чисел",
    "Преобразовать строку в верхний регистр",
    "Вычислить процент от числа",
    "Поменять местами два числа (через анонимку)",
  ]}
>
  **Требования:**
  - используй `func(...) {...}()` — немедленный вызов
  - или присвой анонимку переменной и вызови
  - сделай всё в `main`

  Пример:  
  `Квадрат 7 = 49`
</TaskWithVariants>

## Задание 8 — Итоговое: Мини-банк с defer и замыканием

<TaskWithVariants
  taskId="functions-8-bank"
  title="Задание 8: Мини-банк (итоговое)"
  difficulty={["Сложный","Сложный","Сложный","Сложный","Сложный","Сложный","Сложный","Сложный","Сложный","Сложный","Сложный","Сложный"]}
  estimatedTime="30-40 минут"
  description="Создай систему учёта баланса с логами и бонусами."
  variants={[
    "Баланс 1000, операции +200, -50, +500",
    "Баланс 5000, +1000, -300, +250",
    "Баланс 0, +999, +1, -500",
    "Баланс 2500, +777, -200, +300",
    "Баланс 420, +580, +1000, -200",
    "Баланс 10000, -5000, +3000, +2000",
    "Баланс 3333, +667, +100, -50",
    "Баланс 8888, +1112, -300, +400",
    "Баланс 1999, +1, +10000, -500",
    "Баланс 77777, -7777, +7777, +777",
    "Баланс 1500, +250, -100, +350",
    "Баланс 9000, +500, -2000, +1500",
  ]}
>
  **Требования:**
  - функция `MakeBankAccount(start float64) func(string, float64) (float64, string)`
    - принимает операцию ("deposit", "withdraw") и сумму
    - возвращает новый баланс и сообщение
  - используй замыкание для хранения баланса
  - `defer` для логирования каждой операции ("Операция ... выполнена, баланс ...")
  - в `main` сделай 3–5 операций и покажи историю

  Пример вывода:  
  `Депозит 200 → баланс 1200`  
  `Списание 50 → баланс 1150`  
  `Операция списание выполнена, баланс 1150.00` (от defer)
</TaskWithVariants>

:::tip
Функции — это сердце Go. Делай их маленькими, понятными и с чёткой ответственностью.
:::
