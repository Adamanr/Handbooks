---
sidebar_position: 1
description: "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ –æ—Å–Ω–æ–≤–∞–º SQL –≤ PostgreSQL: DDL (CREATE TABLE, CONSTRAINTS), DML (INSERT), –ø–µ—Ä–≤–∏—á–Ω—ã–µ –∏ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏, —Å–≤—è–∑–∏ –æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º –∏ –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º."
---

# –ü—Ä–∞–∫—Ç–∏–∫–∞: –û—Å–Ω–æ–≤—ã SQL ‚Äî DDL –∏ DML

import { RandomVariantButton, TaskWithVariants } from "../../src/components/practicModules/practic";

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —Å–≤—è–∑–µ–π, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –≤—Å—Ç–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL.  

**–¢–µ–º—ã:** CREATE TABLE, PRIMARY KEY, FOREIGN KEY, NOT NULL, UNIQUE, CHECK, DEFAULT, ON DELETE, INSERT.


## –ó–∞–¥–∞–Ω–∏–µ 1: –ü—Ä–æ—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
<TaskWithVariants
  title="–ó–∞–¥–∞–Ω–∏–µ 1: –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
  description="–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É users –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ –≤–∞—à–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏."
  variants={[
    <><p>–û–±—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</p></>,
    <><p>–ë–ª–æ–≥–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</p></>,
    <><p>–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p></>,
    <><p>–§–æ—Ä—É–º / —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</p></>,
  ]}
>
  <details>
      <summary>‚ùóÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</summary>
      <ul>
        <li><code>user_id SERIAL PRIMARY KEY</code></li>
        <li><code>username VARCHAR(50) NOT NULL UNIQUE</code></li>
        <li><code>email VARCHAR(120) NOT NULL UNIQUE</code></li>
        <li><code>created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP</code></li>
        <li><code>is_active BOOLEAN DEFAULT TRUE</code></li>
        <li>+ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–æ –≤–∞—à–µ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É</li>
        <li>–í—Å—Ç–∞–≤—å—Ç–µ 3 –∑–∞–ø–∏—Å–∏</li>
      </ul>
  </details>
  <details>
      <summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</summary>
      <p>UNIQUE –∑–∞—â–∏—Ç–∏—Ç –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ username –∏ email</p>
  </details>
</TaskWithVariants>

## –ó–∞–¥–∞–Ω–∏–µ 2: –¢–∞–±–ª–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π + —Ç–æ–≤–∞—Ä—ã (–æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º)
<TaskWithVariants
  title="–ó–∞–¥–∞–Ω–∏–µ 2: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–æ–≤–∞—Ä—ã"
  description="–°–æ–∑–¥–∞–π—Ç–µ –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–≤—è–∂–∏—Ç–µ –∏—Ö –≤–Ω–µ—à–Ω–∏–º –∫–ª—é—á–æ–º."
  variants={[
    <><p>–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ ‚Üí —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã, –Ω–æ—É—Ç–±—É–∫–∏, –Ω–∞—É—à–Ω–∏–∫–∏</p></>,
    <><p>–û–¥–µ–∂–¥–∞ ‚Üí –º—É–∂—Å–∫–∞—è, –∂–µ–Ω—Å–∫–∞—è, –¥–µ—Ç—Å–∫–∞—è</p></>,
    <><p>–ö–Ω–∏–≥–∏ ‚Üí —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞, –¥–µ—Ç–µ–∫—Ç–∏–≤—ã, non-fiction</p></>,
    <><p>–ú–µ–±–µ–ª—å ‚Üí –¥–∏–≤–∞–Ω—ã, —Å—Ç–æ–ª—ã, —Å—Ç—É–ª—å—è</p></>,
  ]}
>
  <details>
      <summary>‚ùóÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</summary>
      <ul>
        <li><code>categories</code>: `category_id SERIAL PRIMARY KEY, name VARCHAR(80) NOT NULL UNIQUE`</li>
        <li><code>products</code>: `product_id SERIAL PRIMARY KEY, name VARCHAR(150) NOT NULL, category_id INTEGER NOT NULL`</li>
        <li>`FOREIGN KEY (category_id) REFERENCES categories(category_id) ON DELETE RESTRICT`</li>
        <li>–í—Å—Ç–∞–≤—å—Ç–µ 2 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ 2‚Äì3 —Ç–æ–≤–∞—Ä–∞ –≤ –∫–∞–∂–¥—É—é</li>
        <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –∫ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏–≤—è–∑–∞–Ω—ã —Ç–æ–≤–∞—Ä—ã ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞</li>
      </ul>
  </details>
</TaskWithVariants>

## –ó–∞–¥–∞–Ω–∏–µ 3: –ó–∞–∫–∞–∑—ã + –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞ (–º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º —á–µ—Ä–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É)
<TaskWithVariants
  title="–ó–∞–¥–∞–Ω–∏–µ 3: –ó–∞–∫–∞–∑—ã –∏ —Ç–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ"
  description="–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º."
  variants={[
    <><p>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</p></>,
    <><p>–ö–∞—Ñ–µ / –¥–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã</p></>,
    <><p>–ë–∏–ª–µ—Ç—ã –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</p></>,
  ]}
>
  <details>
      <summary>‚ùóÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</summary>
      <ul>
        <li>
            <code>orders</code>: `order_id SERIAL PRIMARY KEY, customer_id INTEGER NOT NULL, created_at TIMESTAMPTZ DEFAULT NOW()`
        </li>
        <li>
            <code>order_items</code>: 
            <ul>
                <li>`order_id INTEGER NOT NULL`</li>
                <li>`product_id INTEGER NOT NULL`</li>
                <li>`quantity INTEGER NOT NULL CHECK (quantity > 0)`</li>
                <li>`PRIMARY KEY (order_id, product_id)`</li>
                <li>`FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE`</li>
                <li>`FOREIGN KEY (product_id) REFERENCES products(product_id) ON DELETE RESTRICT`</li>
            </ul>
        </li>
        <li>–í—Å—Ç–∞–≤—å—Ç–µ 2 –∑–∞–∫–∞–∑–∞, –≤ –∫–∞–∂–¥—ã–π –ø–æ 2‚Äì4 –ø–æ–∑–∏—Ü–∏–∏</li>
      </ul>
  </details>
</TaskWithVariants>

## –ó–∞–¥–∞–Ω–∏–µ 4: CHECK + DEFAULT –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö
<TaskWithVariants
  title="–ó–∞–¥–∞–Ω–∏–µ 4: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è CHECK –∏ DEFAULT"
  description="–î–æ–±–∞–≤—å—Ç–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∫ 3-–º—É –∑–∞–¥–∞–Ω–∏—é —á–µ—Ä–µ–∑ CHECK –∏ DEFAULT."
  variants={[
    <><p>–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞: new, paid, shipped, delivered, cancelled</p></>,
    <><p>–í–æ–∑—Ä–∞—Å—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ‚â• 18</p></>,
    <><p>–°–∫–∏–¥–∫–∞ –æ—Ç 0 –¥–æ 90%</p></>,
    <><p>–†–µ–π—Ç–∏–Ω–≥ —Ç–æ–≤–∞—Ä–∞ –æ—Ç 1 –¥–æ 5</p></>,
  ]}
>
  <details>
      <summary>‚ùóÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</summary>
      <ul>
        <li>
            –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É —Å –ø–æ–ª–µ–º, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –Ω–∞–ª–æ–∂–∏—Ç—å CHECK
        </li>
        <li>
            –ü—Ä–∏–º–µ—Ä—ã:
            <ul>
                <li>status VARCHAR(20) DEFAULT 'new' CHECK (status IN ('new','paid','shipped','delivered','cancelled'))</li>
                <li>age SMALLINT CHECK (age >= 18)</li>
                <li>—ëdiscount NUMERIC(4,2) CHECK (discount &lt;= 0 AND discount &gt;= 90)`</li>
            </ul>
        </li>
        <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí –∏–∑—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ</li>
      </ul>
  </details>
</TaskWithVariants>

## –ó–∞–¥–∞–Ω–∏–µ 5: –ö–∞—Å–∫–∞–¥–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è FOREIGN KEY
<TaskWithVariants
  title="–ó–∞–¥–∞–Ω–∏–µ 5: –†–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —É–¥–∞–ª–µ–Ω–∏—è"
  description="–°—Ä–∞–≤–Ω–∏—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ CASCADE, SET NULL, RESTRICT."
  variants={[
    <><p>–ê–≤—Ç–æ—Ä ‚Üí –∫–Ω–∏–≥–∏ (CASCADE)</p></>,
    <><p>–°–æ—Ç—Ä—É–¥–Ω–∏–∫ ‚Üí –∑–∞–¥–∞—á–∏ (SET NULL)</p></>,
    <><p>–ö–ª–∏–µ–Ω—Ç ‚Üí –∑–∞–∫–∞–∑—ã (RESTRICT)</p></>,
  ]}
>
  <details>
      <summary>‚ùóÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</summary>
      <ul>
        <li>–°–æ–∑–¥–∞–π—Ç–µ –¥–≤–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ ON DELETE —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</li>
        <li>–í—Å—Ç–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ</li>
        <li>–£–¥–∞–ª–∏—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –∑–∞–ø–∏—Å—å –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å –¥–æ—á–µ—Ä–Ω–∏–º–∏</li>
      </ul>
  </details>
  <details>
      <summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</summary>
      <p>ON DELETE CASCADE ‚Äî —É–¥–∞–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º—ã–µ –∑–∞–ø–∏—Å–∏ `ON DELETE SET NULL` ‚Äî –æ–±–Ω—É–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á `ON DELETE RESTRICT` ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ</p>
  </details>
</TaskWithVariants>

## –ó–∞–¥–∞–Ω–∏–µ 6: –ú–∏–Ω–∏-–º–∞–≥–∞–∑–∏–Ω ‚Äî –≤—Å—ë –≤–º–µ—Å—Ç–µ
<TaskWithVariants
  title="–ó–∞–¥–∞–Ω–∏–µ 6: –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∏–Ω–∏-–º–∞–≥–∞–∑–∏–Ω–∞"
  description="–°–æ–∑–¥–∞–π—Ç–µ 4‚Äì5 —Ç–∞–±–ª–∏—Ü —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏."
  variants={[
    <><p>–ú–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏</p></>,
    <><p>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –æ–¥–µ–∂–¥—ã</p></>,
    <><p>–ö–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω</p></>,
  ]}
>
  <details>
      <summary>‚ùóÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</summary>
      <ul>
        <li>users (user_id, username, email, created_at)</li>
        <li>categories (category_id, name)</li>
        <li>products (product_id, name, price, category_id)</li>
        <li>orders (order_id, user_id, created_at, status)</li>
        <li>order_items (order_id, product_id, quantity, price_at_purchase)</li>
      </ul>
  </details>
  <details>
      <summary>‚ùóÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</summary>
      <ul>
        <li>PRIMARY KEY –∏ FOREIGN KEY –≤–µ–∑–¥–µ, –≥–¥–µ –Ω—É–∂–Ω—ã</li>
        <li>NOT NULL –≥–¥–µ –ª–æ–≥–∏—á–Ω–æ</li>
        <li>CHECK –Ω–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—É—é —Ü–µ–Ω—É, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ > 0</li>
        <li>DEFAULT –¥–ª—è –¥–∞—Ç –∏ —Å—Ç–∞—Ç—É—Å–æ–≤</li>
        <li>ON DELETE CASCADE –Ω–∞ order_items ‚Üí orders</li>
        <li>–í—Å—Ç–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã 2‚Äì3 –∑–∞–ø–∏—Å–∏ –≤ –∫–∞–∂–¥—É—é —Ç–∞–±–ª–∏—Ü—É</li>
      </ul>
  </details>

</TaskWithVariants>

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π:
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞—Ä—É—à–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ü–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å ON DELETE CASCADE / RESTRICT / SET NULL
- –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ø–∏—é —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ CREATE TABLE ... LIKE ...
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ \d –∏ \dt –≤ psql –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

:::tip –°–æ–≤–µ—Ç
–û—à–∏–±–∫–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è constraint'–æ–≤ ‚Äî –≤–∞—à–∏ –ª—É—á—à–∏–µ —É—á–∏—Ç–µ–ª—è. –ß–∏—Ç–∞–π—Ç–µ –∏—Ö –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ!
:::
